<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--命名空间是对应接口的包名+类名,指定要映射的接口 -->
<mapper namespace="com.jay.dao.UserDao">
    <!--id是接口中的方法名，结果类型如没有在mybatis.xml文件中配置别名，则必须使用全名称（包名+类名） -->
    <select id="getAllUsers" resultType="User">
        select id,`name`,address from user
    </select>
    <select id="setUser">
        insert into user(id, name, address) values(#{id}, #{name}, #{addr})
    </select>
    <select id="setHouses" parameterType="com.jay.entities.House">
        insert into houses(phone, ads, maxg, `type`, rent, img, img_count, status) values(#{phone}, #{ads}, #{maxg}, #{type}, #{rent}, #{img}, #{img_count}, #{status})
    </select>
    <select id="getAllHouses" resultType="House">
        select phone, ads, maxg, `type`, rent, img, img_count, status from houses limit #{itemcnt_start},#{itemcnt_end}
    </select>
    <select id="registerhouser">
    insert into houser(op, phone, name, ads, pswd, sex, uid) values(#{op}, #{phone}, #{name}, #{ads}, #{pswd}, #{sex}, #{uid})
    </select>
    <select id="registerowner">
    insert into owner(op, phone, name, ads, pswd) values(#{op}, #{phone}, #{name}, #{ads}, #{pswd})
    </select>
    <select id="login" resultType="java.lang.String">
        select `name` from ${ident} where phone = #{phone} and pswd = #{pswd}
    </select>

</mapper>